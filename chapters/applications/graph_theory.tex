%\documentclass{report}

\begin{document}
    \section{Basic Graph Definitions}
    
    \section{Degrees}
    
    \section{Trees}
        One of the important classes of graphs is a tree. There are many ways to define a tree. First we will state one definition, and then prove that other definitions are equivalent.
        \begin{defn}[Tree] \label{def_tree}
            A \emph{forest} is a simple graph without any cycle. A \emph{tree} is a connected forest. A \emph{leaf} of a forest is a vertex with degree 1.
        \end{defn}
        
        \begin{thm} \label{thm_tree}
            The following statements are equivalent for a simple graph $G$: \begin{enumerate}
                \item $G$ is a tree.
                \item For any two vertices $u$ and $v$ of $G$, there is exactly one path connecting them.
                \item $G$ is connected, and for any $e$ of $G$, $G \backslash e$ is disconnected.
                \item $G$ has no cycle, and for any two vertices $u$ and $v$ not having an edge between them, $G+uv$ has a cycle.
                \item $G$ is connected, and $|E| = |V|-1$.
            \end{enumerate}
        \end{thm}

        \begin{proof}
            TODO
            %(1 $\Rightarrow$ 4) $T$ has no cycles. For any $x,y \in V$, there is a path from $y$ to $x$. That path and $xy$ creates a cycle in $T+xy$.
            
            %(4 $\Rightarrow$ 3) For any $x,y \in V$, $T+xy$ has a cycle and that cycle must contain $xy$. Removing $xy$ from the cycle yields a path from $x$ to $y$. Therefore $T$ is connected. Now suppose $T \backslash e$ is connected for some $e \in E$, and $e$ connects $x$ and $y$. There is a path from $y$ to $x$ in $T \backslash e$, and that path and $e$ creates a cycle in $T$: contradiction.
            
            %(3 $Righatrrow$ 2) $G$ is connected.
        \end{proof}
    
    \subsection{Spanning Trees}
        \begin{defn}[Spanning Subgraph] \label{def_spanning}
            A \emph{spanning subgraph} of a graph $G$ is a subgraph of $G$ such that its vertex set equals $V(G)$. A \emph{spanning tree} is a spanning graph that is a tree.
        \end{defn}
        
        \begin{thm} \label{thm_spanning_tree}
            A connected graph $G$ has a spanning tree.
        \end{thm}
        
        \begin{proof}
            Let $m = |E|$, and label the edges as $e_0$, $\cdots$, $e_m$, arbitrarily. Define the subsets $E_0$, $\cdots$, $E_m$ of $E$, as \begin{displaymath} \begin{cases}
                E_0 = \varnothing \\
                E_i = E_{i-1} \cup \{e_i\} & \text{if the spanning subgraph of $G$} \\
                & \text{with $E = E_{i-1} \cup \{e_i\}$ has no cycle} \\
                E_i = E_{i-1} & \text{otherwise.}
            \end{cases} \end{displaymath}
            Let $H$ be the spanning subgraph of $G$ with $E = E_m$. Clearly, $H$ has no cycle. If $e_i \notin E_m$ and $H+e_i$ has no cycle, then $E_i$ would contain $e_i$, contradiction. From [\ref{thm_tree}], $H$ is a tree.
        \end{proof}
        
        (TODO: minimum spanning tree)
        
        There are other minimum spanning tree algorithms like Prim's algorithm or Bor≈Øvka's algorithm.
    
    \section{Planar Graphs}
        \begin{defn}[Planar Graph] \label{def_planar_graph}
            A \emph{plane graph} is a graph $G$ where: \begin{itemize}
                \item $V \subseteq \mathbb{R}^2$;
                \item every edge is an arc between two endpoints;
                \item the interior of each edge contains no vertex and no point of any other edge.
            \end{itemize}
            The connected components of $\mathbb{R}^2 \backslash G$ are called \emph{faces} of $G$. Since $G$ is contained in a sufficiently large disc, exactly one face is unbounded; that face is called the \emph{outer face} of $G$. All other faces are called \emph{inner faces} of $G$. A graph $H$ is \emph{planar} if it is isomorphic to some plane graph.
        \end{defn}
        
        \begin{thm}[Euler's Formula] \label{thm_euler_vef}
            If $G$ is a connected plane graph, and the number of faces of $G$ is $F$, then \begin{displaymath}
                |V| - |E| + F = 2.
            \end{displaymath}
        \end{thm}
        
        \begin{proof}
            Induction on $|E|$. The base case is when $G$ has no edges, one vertex, and one face; the formula clearly holds.
            
            Pick any edge $e$. If $e$ is a loop, removing it reduces $|E|$ and $F$ by one. Otherwise, contracting it reduces $|V|$ and $|E|$ by one. Either way the result follows by induction.
        \end{proof}
        
        \begin{thm} \label{thm_planar_ve}
            If $G$ is simple and planar, and $|V| \geq 3$, then $|E| \leq 3|V|-6$. If in addition $G$ has no triangles (i.e. $K_3$ as a subgraph), then $|E| \leq 2|V|-4$.
        \end{thm}
        
        \begin{proof}
            Count the number $N$ of pairs $(f, e)$ where the face $f$ and the edge $e$ are incident. For each face, there are at least 3 edges incident to it, for otherwise there would be parallel edges or loops. Therefore $N \geq 3F$. On the other hand, each edge is incident to exactly two faces, so $N = 2|E|$. This gives $3F \leq 2|E|$. From [\ref{thm_euler_vef}], $3F = 6-3|V|+3|E| \leq 2|E|$, and the first result follows.
            
            The second result can be proved in the exactly same way, using $N \geq 4F$.
        \end{proof}
        
        \begin{coro} \label{cor_k5_k33}
            $K_5$ and $K_{3,3}$ are not planar.
        \end{coro}
        
        \begin{proof}
            $K_5$ has 5 vertices and 10 edges. $K_{3,3}$ has no triangles, 6 vertices, and 9 edges. The result follows from [\ref{thm_planar_ve}].
        \end{proof}
        
        It clearly follows that any subdivision of $K_5$ or $K_{3,3}$ are not planar. Surprisingly, those two graphs are the only graphs that ``need to be checked" to determine if a given graph is planar. The proof requires several more lemmas and theorems, so we have moved the proof to the appendix.
        
        \begin{thm}[Kuratowski's Theorem] \label{thm_kuratowski}
            A graph $G$ is planar if and only if it does not have $K_5$ or $K_{3,3}$ as a topological minor.
        \end{thm}
    
    \section{Coloring}
        \begin{defn}[Coloring] \label{def_coloring}
            A \emph{$k$-coloring} of a graph $G$ is a function $c: V(G) \rightarrow \{1,2,\cdots,k\}$ such that if $u$ and $v$ are adjacent vertices, then $c(u) \neq c(v)$. $G$ is \emph{$k$-colorable} if there is a $k$-coloring of $G$. The \emph{chromatic number} $\chi(G)$ of $G$ is the smallest integer $k$ such that $G$ is $k$-colorable.
        \end{defn}
        
        Perhaps the most famous theorem about graph coloring is the four-color theorem. (TODO: write something) 
        
        \begin{thm}[Four-color Theorem] \label{thm_four_color}
            If $G$ is planar, then $\chi(G) \leq 4$.
        \end{thm}
        
        Unfortunately, the proof is too long and complicated to contain in the codex. We prove a weaker result:
        
        \begin{thm}[Five-color Theorem] \label{thm_five_color}
            If $G$ is planar, then $\chi(G) \leq 5$.
        \end{thm}
        
        \begin{proof}
            Induction on $|V|$. For $|V| \leq 5$, the theorem is trivial.
            
            From [\ref{thm_planar_ve}], $G$ has a vertex $v$ of degree at most 5. If $deg_G(v) < 5$, then inductively find a 5-coloring of $G-v$, and color $v$ by some color in $\{1,2,3,4,5\}$ not appearing in the neighbors of $v$. If $deg_G(v) = 5$ and not all colors are used in the neighbors of $v$, then the same argument applies.
            
            Now suppose all 5 colors are used. Denote the neighbors of $v$ as $u_1$, $u_2$, $u_3$, $u_4$, $u_5$, in clockwise order. Without loss of generality, we will assume that $c(u_i)=i$.
            
            The main idea of the rest of the proof is that we want to change the color of one of the neighbors, say change $c(u_i)$ to $k$. This is impossible if $u_i$ has a neighbor of color $k$, in which case we want to also change the color of that neighbor, to $k'$. But then that neighbor might have yet another neighbor of color $k'$, and this continues to form a chain. Hence we introduce the \emph{Kempe chain}, named after Alfred Kempe.
            
            Let $V_{ij}$ be the set of vertices $w$ in $G$ such that there is a path from $u_i$ to $w$ consisting of vertices of color $i$ or $j$. Note that if we switch the colors of the vertices in $V_{ij}$ (i.e. change $i$ to $j$ and $j$ to $i$), and leave everything else the same, then the result is still a coloring.
            
            If $V_{13}$ does not contain $u_3$, then switch the colors of the vertices in $V_{13}$ and color $v$ by 1. Otherwise, $V_{24}$ does not contain $u_4$; switch the colors of the vertices in $V_{24}$ and color $v$ by 2. This gives a 5-coloring of $G$.
            
            (TODO: picture)
        \end{proof}
        
        Fun fact: In 1879, the Kempe chain method was used to ``prove" the four-color theorem by Alfred Kempe. No one noticed that this ``proof" had an error until eleven years later when Percy Heawood found the error. What we saw above is the modification of the incorrect proof to prove the weaker theorem. The correct proof of four-color theorem was completed in 1976 by Kenneth Appel and Wolfgang Haken.
    
\end{document}